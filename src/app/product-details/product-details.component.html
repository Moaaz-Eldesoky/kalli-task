<div class="container">
  <div class="main">
    <div *ngIf="currentProduct">
      <!-- Product Slider (Carousel) -->
      <div id="productCarousel" class="carousel slide" data-bs-ride="false" [attr.data-bs-interval]="false">
        <!-- Carousel indicators -->
        <div class="carousel-indicators">
          <button *ngFor="let product of products; let i = index" type="button"
            [attr.data-bs-target]="'#productCarousel'" [attr.data-bs-slide-to]="i"
            [class.active]="i === currentProductIndex" [attr.aria-current]="i === currentProductIndex ? 'true' : null"
            [attr.aria-label]="'Slide ' + (i + 1)" (click)="goToProduct(i, $event)">
          </button>
        </div>

        <!-- Carousel inner -->
        <div class="carousel-inner">
          <div *ngFor="let product of products; let i = index" class="carousel-item"
            [class.active]="i === currentProductIndex">
            <div class="row my-3 m-md-0">
              <div class="col-lg-3 align-self-center">
                <h6>{{product.category}} <i class="fa-solid fa-minus"></i> </h6>
                <h4>{{product.title}}</h4>
                <p class="py-4">{{product.description}}</p>
                <div class="d-flex">
                  <div *ngFor="let image of product.colors[0].images;let indexOfelement=index;"
                    class="position-relative animate__animated animate__flipInX z-3">
                    <div class="position-absolute overlay bg-dark opacity-25 top-0 start-0 bottom-0 end-0 mt-1"></div>
                    <img class="w-100 " src='{{"../../assets/"+ image}}' alt="images">
                  </div>
                </div>
              </div>
              <div class="col-lg-6" id="Touch">
                <img class="w-100" src='{{"../../assets/"+ product.colors[0].images[0]}}' alt="">
              </div>
              <div class="col-lg-3 align-self-center z-3">
                <div>
                  <p>Size</p>
                  <div class="d-flex">
                    <div *ngFor="let size of product.size;let indexOfelement=index">
                      <button [disabled]="!product.size.includes(size)" type=" button"
                        style="width: 50px; height: 50px;"
                        class="border border-2 btn text-center rounded-circle m-2">{{size}}</button>
                    </div>
                  </div>
                </div>
                <div class="d-flex justify-content-between align-items-center py-3">
                </div>
              </div>
            </div>
          </div>

          <!-- Carousel controls moved to the bottom -->
          <div class="carousel-controls">
            <button class="carousel-control-prev" type="button" (click)="previousProduct()">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" (click)="nextProduct()">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>

        <div *ngIf="!currentProduct">
          <p>Loading product details...</p>
        </div>
      </div>
    </div>
  </div>